{% raw %}
<div id="toc" class="toc">
 <ul class="sectlevel1">
  <li><a href="#con-topic-encryption-overview-record-encryption">1. How encryption works</a>
   <ul class="sectlevel2">
    <li><a href="#how_the_filter_encrypts_records">1.1. How the filter encrypts records</a></li>
    <li><a href="#how_the_filter_decrypts_records">1.2. How the filter decrypts records</a></li>
    <li><a href="#how_the_filter_uses_the_kms">1.3. How the filter uses the KMS</a></li>
    <li><a href="#practicing_key_rotation">1.4. Practicing key rotation</a></li>
    <li><a href="#what_part_of_a_record_is_encrypted">1.5. What part of a record is encrypted?</a></li>
    <li><a href="#unencrypted_topics">1.6. Unencrypted topics</a></li>
   </ul></li>
  <li><a href="#preparing_your_kms">2. Preparing your KMS</a>
   <ul class="sectlevel2">
    <li><a href="#assembly-hashicorp-vault-record-encryption">2.1. Preparing HashiCorp Vault</a></li>
    <li><a href="#assembly-aws-kms-record-encryption">2.2. Preparing AWS KMS</a></li>
    <li><a href="#assembly-fortanix-dsm-record-encryption">2.3. Preparing Fortanix Data Security Manager (DSM)</a></li>
   </ul></li>
  <li><a href="#assembly-configuring-record-encryption-filter-record-encryption">3. Configuring the Record Encryption filter</a>
   <ul class="sectlevel2">
    <li><a href="#con-vault-plugin-configuration-record-encryption">3.1. HashiCorp Vault plugin configuration</a></li>
    <li><a href="#con-aws-kms-plugin-configuration-record-encryption">3.2. AWS KMS plugin configuration</a></li>
    <li><a href="#con-fortanix-dsm-plugin-configuration-record-encryption">3.3. Fortanix DSM plugin configuration</a></li>
    <li><a href="#con-record-encryption-filter-config-record-encryption">3.4. Filter configuration</a></li>
    <li><a href="#con-example-proxy-config-record-encryption">3.5. Example proxy configuration file</a></li>
    <li><a href="#con-example-kafkaprotocolfilter-resource-record-encryption">3.6. Example <code>KafkaProtocolFilter</code> resource</a></li>
   </ul></li>
  <li><a href="#assembly-monitoring-record-encryption-filter-record-encryption">4. Monitoring the Record Encryption filter</a>
   <ul class="sectlevel2">
    <li><a href="#con-monitoring-record-encryption-filter-record-encryption">4.1. Record Encryption filter metrics</a></li>
   </ul></li>
  <li><a href="#assembly-operations-record-encryption-filter-record-encryption">5. Operations</a>
   <ul class="sectlevel2">
    <li><a href="#con-lost-kek-record-encryption">5.1. Handling lost KEKs</a></li>
   </ul></li>
  <li><a href="#trademark_notice">6. Trademark notice</a></li>
 </ul>
</div>
{% endraw %}
